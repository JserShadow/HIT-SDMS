webpackJsonp([1],{"+roZ":function(e,t){},"1Z16":function(e,t){},"3uZ1":function(e,t){},"4abN":function(e,t){},"52sC":function(e,t){},"7LF6":function(e,t){},"8t/I":function(e,t){},CMvz:function(e,t){},DwkI:function(e,t){},GFez:function(e,t){},IMAd:function(e,t){},JWtl:function(e,t){},KkFw:function(e,t){},MiTx:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},r,!1,function(e){a("dDvn")},"data-v-ee1271f0",null).exports,o=a("/ocq"),i=a("Xxa5"),c=a.n(i),l=a("exGp"),u=a.n(l),p=a("mtWM"),d=a.n(p),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("van-collapse-item",{attrs:{title:"基本信息",name:"1"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"专业",value:e.basicInfo.major}}),e._v(" "),a("van-cell",{attrs:{title:"班级",value:e.basicInfo.className}}),e._v(" "),a("van-cell",{attrs:{title:"手机号",value:e.basicInfo.phoneNumber}}),e._v(" "),a("van-cell",{attrs:{title:"微信号",value:e.basicInfo.wx}}),e._v(" "),a("van-cell",{attrs:{title:"生日",value:e.basicInfo.birthday}}),e._v(" "),a("van-cell",{attrs:{title:"民族",value:e.basicInfo.volk}}),e._v(" "),a("van-cell",{attrs:{title:"籍贯",value:e.basicInfo.nativePlace}}),e._v(" "),a("van-cell",{attrs:{title:"政治面貌",value:e.basicInfo.partyMember}})],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")({props:["basicInfo"],data:function(){return{activeName:"0"}}},h,!1,function(e){a("WqGK")},null,null).exports,m={props:["scores"],data:function(){return{activeName:"0"}},methods:{toEditScore:function(e){this.$emit("toEditScore",this.scores[e])},toDeleteScore:function(e){var t=this;this.$dialog.alert({title:"删除确认",message:"确定要删除这条数据吗？删除后不可恢复",confirmButtonText:"删除",showCancelButton:!0}).then(u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.post("/score/deleteScore",{score:t.scores[e]});case 2:"ok"===a.sent.data.message&&(t.$toast.success("删除成功"),location.reload());case 4:case"end":return a.stop()}},a,t)}))).catch(function(){})}},mounted:function(){for(var e=document.getElementsByClassName("van-collapse-item__content"),t=0;t<e.length;t++)e[t].style.paddingTop="0",e[t].style.paddingBottom="0"}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.scores.length?a("van-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.scores,function(t,s){return a("van-collapse-item",{key:t._id,attrs:{title:t.gradeName.year+t.gradeName.term,name:(s+1).toString()}},[a("van-panel",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"header"},slot:"header"},[a("div",[e._v("平均学分绩")]),e._v(" "),a("div",{staticStyle:{color:"#ff3333"}},[e._v(e._s(t.score))])]),e._v(" "),a("div",{staticStyle:{padding:"0px 13px"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px","margin-top":"10px"}},[a("div",[e._v("是否通过考试")]),e._v(" "),a("div",[e._v(e._s(t.hasPass?"是":"否"))])]),e._v(" "),t.hasPass?e._e():a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",[e._v("不及格科目")]),e._v(" "),a("div",[e._v(e._s(t.failingCourse.join(",")))])]),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",[e._v("挂科科目")]),e._v(" "),a("div",[e._v(e._s(t.failedCourse.join(",")))])])])]),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-around"},attrs:{slot:"footer"},slot:"footer"},[a("van-button",{attrs:{size:"small"},on:{click:function(t){e.toEditScore(s)}}},[e._v("编辑")]),e._v(" "),a("van-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){e.toDeleteScore(s)}}},[e._v("删除")])],1)])],1)})):a("div",{staticClass:"no-data"},[e._v("\r\n    暂无成绩数据\r\n  ")])],1)},staticRenderFns:[]};var _=a("VU/8")(m,v,!1,function(e){a("jMoM")},"data-v-0ac9ebf0",null).exports,b=a("uAh/"),g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("van-collapse-item",{attrs:{title:"社会职务",name:"1"}},e._l(e.secondClassInfo.position,function(t,s){return a("div",{staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term+"/"+t.weight+"分"))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{slot:"right-icon",type:"text"},on:{click:function(t){e.deleteSingleRecord(s,"position")}},slot:"right-icon"},[e._v("删除")])],1)})),e._v(" "),a("van-collapse-item",{attrs:{title:"社会活动",name:"2"}},e._l(e.secondClassInfo.activities,function(t,s){return a("div",{staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term+"/"+t.weight+"分"))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{slot:"right-icon",type:"text"},on:{click:function(t){e.deleteSingleRecord(s,"activities")}},slot:"right-icon"},[e._v("删除")])],1)})),e._v(" "),a("van-collapse-item",{attrs:{title:"荣誉称号",name:"3"}},e._l(e.secondClassInfo.honor,function(t,s){return a("div",{staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term+"/"+t.weight+"分"))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{slot:"right-icon",type:"text"},on:{click:function(t){e.deleteSingleRecord(s,"honor")}},slot:"right-icon"},[e._v("删除")])],1)})),e._v(" "),a("van-collapse-item",{attrs:{title:"寝室建设",name:"4"}},e._l(e.secondClassInfo.dorm,function(t,s){return a("div",{staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term+"/"+t.weight+"分"))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{slot:"right-icon",type:"text"},on:{click:function(t){e.deleteSingleRecord(s,"dorm")}},slot:"right-icon"},[e._v("删除")])],1)})),e._v(" "),a("van-collapse-item",{attrs:{title:"减分项",name:"5"}},e._l(e.secondClassInfo.decrease,function(t,s){return a("div",{staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term+"/"+t.weight+"分"))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{slot:"right-icon",type:"text"},on:{click:function(t){e.deleteSingleRecord(s,"decrease")}},slot:"right-icon"},[e._v("删除")])],1)}))],1)],1)},staticRenderFns:[]};var y=function(e){a("xBMF")},k=a("VU/8")(b.a,g,!1,y,"data-v-1b59f6e4",null).exports,x={name:"ScholarshipCollapse",props:["scholarships","scholarshipStatus"],data:function(){return{activeName:"0"}},methods:{removeScholarship:function(e){var t=this;return u()(c.a.mark(function a(){var s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=t.scholarships).scholarships.splice(e,1),a.next=4,d.a.post("/scholarship/removeScholarships",{openId:localStorage.getItem("userID"),scholarships:s});case 4:"ok"===a.sent.data.message&&(t.$message({type:"success",message:"删除成功"}),t.$emit("reloadScholarships"));case 6:case"end":return a.stop()}},a,t)}))()}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"10px"}},["待填写"===e.scholarshipStatus?a("div",{staticClass:"no-data"},[e._v("暂无数据")]):a("div",e._l(e.scholarships.scholarships,function(t,s){return a("div",{key:t._id,staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.name)+"/"+e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{type:"text",size:"mini",round:""},on:{click:function(t){e.removeScholarship(s)}}},[e._v("删除")])],1)}))])},staticRenderFns:[]};var S=a("VU/8")(x,w,!1,function(e){a("7LF6")},"data-v-dfe496b8",null).exports,C={props:["remarks","remarkStatus"],methods:{removeRemark:function(e){var t=this;return u()(c.a.mark(function a(){var s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=t.remarks).remarks.splice(e,1),a.next=4,d.a.post("/certificate/removeRemarks",{openId:localStorage.getItem("userID"),remarks:s});case 4:"ok"===a.sent.data.message&&(t.$message({type:"success",message:"删除成功"}),t.$emit("reloadRemarks"));case 6:case"end":return a.stop()}},a,t)}))()}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"10px"}},["待填写"===e.remarkStatus?a("div",{staticClass:"no-data"},[e._v("暂无数据")]):a("div",e._l(e.remarks.remarks,function(t,s){return a("div",{key:t._id,staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.remark))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{type:"text",size:"mini",round:""},on:{click:function(t){e.removeRemark(s)}}},[e._v("删除")])],1)}))])},staticRenderFns:[]};var D=a("VU/8")(C,P,!1,function(e){a("bJ3t")},null,null).exports,I={name:"ScholarshipPopup",props:["showScholarshipPopup","adminScholarships"],data:function(){return{pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],scholarshipObj:{name:"",year:"",term:"",detail:""},scholarships:[],showPicker:!1,scholarshipDetail:""}},methods:{chooseScholarshipYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseScholarshipTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.scholarshipObj.term=e:this.scholarshipObj.year=e,this.showPicker=!1},pickerCancel:function(){this.showPicker=!1},updateScholarship:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/scholarship/updateScholarships",{openId:localStorage.getItem("userID"),scholarship:e.scholarshipObj});case 2:"ok"===t.sent.data.message&&(e.$message({type:"success",message:"提交成功"}),e.cancelUpdateScholarship(),e.$emit("reloadScholarships"));case 4:case"end":return t.stop()}},t,e)}))()},cancelUpdateScholarship:function(){this.scholarshipObj={year:"",term:"",name:""},this.$emit("closeScholarshipPopup")}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticStyle:{height:"100vh",width:"100vw","overflow-y":"scroll"},attrs:{position:"right",overlay:!1},model:{value:e.showScholarshipPopup,callback:function(t){e.showScholarshipPopup=t},expression:"showScholarshipPopup"}},[a("div",{staticClass:"popup-header"},[e._v("添加奖学金")]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.scholarshipObj.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseScholarshipYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.scholarshipObj.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseScholarshipTerm}},[e._v("选择学期")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("选择奖学金类型: ")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择奖学金"},model:{value:e.scholarshipObj.name,callback:function(t){e.$set(e.scholarshipObj,"name",t)},expression:"scholarshipObj.name"}},e._l(e.adminScholarships,function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("填写金额: ")]),e._v(" "),a("el-input",{staticStyle:{width:"50vw"},attrs:{placeholder:"请输入详细内容"},model:{value:e.scholarshipObj.detail,callback:function(t){e.$set(e.scholarshipObj,"detail",t)},expression:"scholarshipObj.detail"}})],1),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{"bottom-action":""},on:{click:e.updateScholarship}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelUpdateScholarship}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{cancel:e.pickerCancel,confirm:e.pickerConfirm}})],1)],1)},staticRenderFns:[]};var $=a("VU/8")(I,O,!1,function(e){a("QSsg")},"data-v-f3be399c",null).exports,j={name:"TechnologyCollapse",props:["technologys","technologyStatus"],methods:{removeTechnology:function(e){var t=this;return u()(c.a.mark(function a(){var s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=t.technologys).technologys.splice(e,1),a.next=4,d.a.post("/technology/removeTechnologys",{openId:localStorage.getItem("userID"),technologys:s});case 4:"ok"===a.sent.data.message&&(t.$message({type:"success",message:"删除成功"}),t.$emit("reloadTechnologys"));case 6:case"end":return a.stop()}},a,t)}))()}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"10px"}},["待填写"===e.technologyStatus?a("div",{staticClass:"no-data"},[e._v("暂无数据")]):a("div",e._l(e.technologys.technologys,function(t,s){return a("div",{key:t._id,staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{type:"text",size:"mini",round:""},on:{click:function(t){e.removeTechnology(s)}}},[e._v("删除")])],1)}))])},staticRenderFns:[]};var E=a("VU/8")(j,T,!1,function(e){a("O6zy")},"data-v-048ea632",null).exports,R={name:"TechnologyPopup",props:["showTechnologyPopup","technologySelections"],data:function(){return{pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],selectedOptions:[],technologyObj:{name:"",weight:0,year:"",term:"",detail:"",remark:""},technologys:[],showPicker:!1}},methods:{chooseTechnologyYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseTechnologyTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.technologyObj.term=e:this.technologyObj.year=e,this.showPicker=!1},pickerCancel:function(){this.showPicker=!1},changeTechChoice:function(e){var t=e.split("/");this.technologyObj.weight=parseInt(t[2]),t.splice(2,1),this.technologyObj.name=t.join("/")},updateTechnology:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/technology/updateTechnologys",{openId:localStorage.getItem("userID"),technology:e.technologyObj});case 2:"ok"===t.sent.data.message&&(e.$message({type:"success",message:"提交成功"}),e.cancelUpdateTechnology(),e.$emit("reloadTechnologys"));case 4:case"end":return t.stop()}},t,e)}))()},cancelUpdateTechnology:function(){this.technologyObj={year:"",weight:0,term:"",name:""},this.$emit("closeTechnologyPopup")}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticStyle:{height:"100vh",width:"100vw","overflow-y":"scroll"},attrs:{position:"right",overlay:!1},model:{value:e.showTechnologyPopup,callback:function(t){e.showTechnologyPopup=t},expression:"showTechnologyPopup"}},[a("div",{staticClass:"popup-header"},[e._v("添加科技创新表现")]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.technologyObj.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseTechnologyYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.technologyObj.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseTechnologyTerm}},[e._v("选择学期")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("选择科技创新类型: ")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeTechChoice},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}},e._l(e.technologySelections,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.children,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:t.label+"/"+e.value+"/"+e.weight}})}))}))],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("填写项目名称: ")]),e._v(" "),a("el-input",{staticStyle:{width:"50vw"},attrs:{placeholder:"请输入项目名称"},model:{value:e.technologyObj.detail,callback:function(t){e.$set(e.technologyObj,"detail",t)},expression:"technologyObj.detail"}})],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("备注: ")]),e._v(" "),a("el-input",{staticStyle:{width:"50vw"},model:{value:e.technologyObj.remark,callback:function(t){e.$set(e.technologyObj,"remark",t)},expression:"technologyObj.remark"}})],1),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{"bottom-action":""},on:{click:e.updateTechnology}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelUpdateTechnology}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{cancel:e.pickerCancel,confirm:e.pickerConfirm}})],1)],1)},staticRenderFns:[]};var M=a("VU/8")(R,A,!1,function(e){a("wuTm")},"data-v-b18f52e8",null).exports,N={name:"CertificateCollapse",props:["certificates","certificateStatus"],methods:{removeCertificate:function(e){var t=this;return u()(c.a.mark(function a(){var s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=t.certificates).certificates.splice(e,1),a.next=4,d.a.post("/certificate/removeCertificates",{openId:localStorage.getItem("userID"),certificates:s});case 4:"ok"===a.sent.data.message&&(t.$message({type:"success",message:"删除成功"}),t.$emit("reloadCertificates"));case 6:case"end":return a.stop()}},a,t)}))()}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"10px"}},["待填写"===e.certificateStatus?a("div",{staticClass:"no-data"},[e._v("暂无数据")]):a("div",e._l(e.certificates.certificates,function(t,s){return a("div",{key:t._id,staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.name)+"/"+e._s(t.detail))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{type:"text",size:"mini",round:""},on:{click:function(t){e.removeCertificate(s)}}},[e._v("删除")])],1)}))])},staticRenderFns:[]};var q=a("VU/8")(N,U,!1,function(e){a("KkFw")},"data-v-a4680ef2",null).exports,z={name:"CertificatePopup",props:["showCertificatePopup","certificateSelections"],data:function(){return{pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],selectedOptions:"",certificateObj:{name:"",year:"",term:"",detail:""},certificates:[],showPicker:!1,certificateDetail:""}},methods:{clg:function(){console.log(this.certificateSelections)},chooseCertificateYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseCertificateTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.certificateObj.term=e:this.certificateObj.year=e,this.showPicker=!1},pickerCancel:function(){this.showPicker=!1},updateCertificate:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.certificateObj.name=e.selectedOptions,e.certificateObj.detail=e.certificateDetail,t.next=4,d.a.post("/certificate/updateCertificates",{openId:localStorage.getItem("userID"),certificate:e.certificateObj});case 4:"ok"===t.sent.data.message&&(e.$message({type:"success",message:"提交成功"}),e.cancelUpdateCertificate(),e.$emit("reloadCertificates"));case 6:case"end":return t.stop()}},t,e)}))()},cancelUpdateCertificate:function(){this.certificateObj={year:"",weight:0,term:"",name:""},this.$emit("closeCertificatePopup")}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticStyle:{height:"100vh",width:"100vw","overflow-y":"scroll"},attrs:{position:"right",overlay:!1},model:{value:e.showCertificatePopup,callback:function(t){e.showCertificatePopup=t},expression:"showCertificatePopup"}},[a("div",{staticClass:"popup-header"},[e._v("添加其他证书")]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.certificateObj.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseCertificateYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.certificateObj.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseCertificateTerm}},[e._v("选择学期")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("选择证书类型: ")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择证书"},on:{click:e.clg},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}},e._l(e.certificateSelections,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("填写分数: ")]),e._v(" "),a("el-input",{staticStyle:{width:"50vw"},attrs:{placeholder:"请输入分数"},model:{value:e.certificateDetail,callback:function(t){e.certificateDetail=t},expression:"certificateDetail"}})],1),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{"bottom-action":""},on:{click:e.updateCertificate}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelUpdateCertificate}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{cancel:e.pickerCancel,confirm:e.pickerConfirm}})],1)],1)},staticRenderFns:[]};var B=a("VU/8")(z,F,!1,function(e){a("4abN")},null,null).exports,V={name:"SocialPracticeCollapse",props:["socialPractices","socialPracticeStatus"],methods:{removeSocialPractice:function(e){var t=this;return u()(c.a.mark(function a(){var s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=t.socialPractices).socialPractices.splice(e,1),a.next=4,d.a.post("/socialPractice/removeSocialPractices",{openId:localStorage.getItem("userID"),socialPractices:s});case 4:"ok"===a.sent.data.message&&(t.$message({type:"success",message:"删除成功"}),t.$emit("reloadSocialPractices"));case 6:case"end":return a.stop()}},a,t)}))()}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"10px"}},["待填写"===e.socialPracticeStatus?a("div",{staticClass:"no-data"},[e._v("暂无数据")]):a("div",e._l(e.socialPractices.socialPractices,function(t,s){return a("div",{key:t._id,staticClass:"flex-collapse"},[a("div",{staticClass:"innerflex"},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-button",{staticStyle:{color:"#ff3333"},attrs:{type:"text",size:"mini",round:""},on:{click:function(t){e.removeSocialPractice(s)}}},[e._v("删除")])],1)}))])},staticRenderFns:[]};var K=a("VU/8")(V,W,!1,function(e){a("XRiL")},null,null).exports,L={name:"SocialPracticePopup",props:["showSocialPracticePopup"],data:function(){return{pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],socialPracticeContents:"",socialPracticeObj:{name:"",year:"",term:""},socialPractices:[],showPicker:!1}},methods:{chooseSocialPracticeYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseSocialPracticeTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.socialPracticeObj.term=e:this.socialPracticeObj.year=e,this.showPicker=!1},pickerCancel:function(){this.showPicker=!1},updateSocialPractice:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.socialPracticeObj.name=e.socialPracticeContents,t.next=3,d.a.post("/socialPractice/updateSocialPractices",{openId:localStorage.getItem("userID"),socialPractice:e.socialPracticeObj});case 3:"ok"===t.sent.data.message&&(e.$message({type:"success",message:"提交成功"}),e.cancelUpdateSocialPractice(),e.$emit("reloadSocialPractices"));case 5:case"end":return t.stop()}},t,e)}))()},cancelUpdateSocialPractice:function(){this.socialPracticeObj={year:"",term:"",name:""},this.$emit("closeSocialPracticePopup")}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticStyle:{height:"100vh",width:"100vw","overflow-y":"scroll"},attrs:{position:"right",overlay:!1},model:{value:e.showSocialPracticePopup,callback:function(t){e.showSocialPracticePopup=t},expression:"showSocialPracticePopup"}},[a("div",{staticClass:"popup-header"},[e._v("添加社会实践")]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.socialPracticeObj.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseSocialPracticeYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.socialPracticeObj.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseSocialPracticeTerm}},[e._v("选择学期")])],1),e._v(" "),a("van-field",{attrs:{placeholder:"请输入社会实践内容"},model:{value:e.socialPracticeContents,callback:function(t){e.socialPracticeContents=t},expression:"socialPracticeContents"}}),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{"bottom-action":""},on:{click:e.updateSocialPractice}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelUpdateSocialPractice}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{cancel:e.pickerCancel,confirm:e.pickerConfirm}})],1)],1)},staticRenderFns:[]};var Y=a("VU/8")(L,Q,!1,function(e){a("iBrN")},null,null).exports,G=a("xqKb"),J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticStyle:{height:"100vh",width:"100vw","overflow-y":"scroll"},attrs:{position:"right",overlay:!1},model:{value:e.addSceondClass,callback:function(t){e.addSceondClass=t},expression:"addSceondClass"}},[a("div",{staticClass:"popup-header"},[e._v("添加第二课堂表现")]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("span",[e._v("选择类别: ")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:e.changeCatagory},model:{value:e.catagory,callback:function(t){e.catagory=t},expression:"catagory"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.selectorInfo.length?a("div",[a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.secondClassObj.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseSecondClassYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.secondClassObj.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseSecondClassTerm}},[e._v("选择学期")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("span",[e._v("选择内容类别: ")]),e._v(" "),e.selectorInfo[0].children?a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:e.changeContent},model:{value:e.secondClassObj.name,callback:function(t){e.$set(e.secondClassObj,"name",t)},expression:"secondClassObj.name"}},e._l(e.selectorInfo,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.children,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:t.label+"/"+e.value+"/"+e.weight}})}))})):a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:e.changeContent},model:{value:e.secondClassObj.name,callback:function(t){e.$set(e.secondClassObj,"name",t)},expression:"secondClassObj.name"}},e._l(e.selectorInfo,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value+"/"+e.weight}})}))],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("span",[e._v("详细内容: ")]),e._v(" "),a("el-input",{staticStyle:{width:"50vw"},attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.secondClassObj.detail,callback:function(t){e.$set(e.secondClassObj,"detail",t)},expression:"secondClassObj.detail"}})],1)]):e._e(),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{"bottom-action":""},on:{click:e.updateSecondClass}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelUpdateSecondClass}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{cancel:e.pickerCancel,confirm:e.pickerConfirm}})],1)],1)},staticRenderFns:[]};var X=function(e){a("DwkI")},Z={props:["showRemarkPopup"],data:function(){return{pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],remarkObj:{year:"",term:"",remark:""},showPicker:!1}},methods:{chooseRemarkYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseRemarkTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.remarkObj.term=e:this.remarkObj.year=e,this.showPicker=!1},pickerCancel:function(){this.showPicker=!1},updateRemark:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/remark/updateRemarks",{openId:localStorage.getItem("userID"),remark:e.remarkObj});case 2:"ok"===t.sent.data.message&&(e.$message({type:"success",message:"提交成功"}),e.cancelUpdateRemark(),e.$emit("reloadRemarks"));case 4:case"end":return t.stop()}},t,e)}))()},cancelUpdateRemark:function(){this.remarkObj={year:"",term:"",remark:""},this.$emit("closeRemarkPopup")}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-popup",{staticStyle:{height:"100vh",width:"100vw","overflow-y":"scroll"},attrs:{position:"right",overlay:!1},model:{value:e.showRemarkPopup,callback:function(t){e.showRemarkPopup=t},expression:"showRemarkPopup"}},[a("div",{staticClass:"popup-header"},[e._v("添加备注")]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.remarkObj.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseRemarkYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.remarkObj.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseRemarkTerm}},[e._v("选择学期")])],1),e._v(" "),a("van-field",{attrs:{label:"填写备注内容"},model:{value:e.remarkObj.remark,callback:function(t){e.$set(e.remarkObj,"remark",t)},expression:"remarkObj.remark"}}),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{"bottom-action":""},on:{click:e.updateRemark}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelUpdateRemark}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{cancel:e.pickerCancel,confirm:e.pickerConfirm}})],1)],1)},staticRenderFns:[]};var ee={name:"PersonalInfomation",components:{BasicInfo:f,Score:_,SecondClass:k,Scholarship:S,Remark:D,ScholarshipPopup:$,Technology:E,TechnologyPopup:M,Certificate:q,CertificatePopup:B,SocialPractice:K,SocialPracticePopup:Y,SecondClassPopup:a("VU/8")(G.a,J,!1,X,"data-v-57b136c6",null).exports,RemarkPopup:a("VU/8")(Z,H,!1,function(e){a("bkIu")},null,null).exports},data:function(){return{loadData:!1,wxUserInfo:"",basicInfo:"",infoStatus:"",scoreStatus:"",secondClassStatus:"",Integrity:"0%",showAddModel:!1,showPicker:!1,pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],score:{status:"待审核",score:"",gradeName:{year:"",term:""},hasPass:"",failingCourse:[],failedCourse:[]},scores:[],popupTitle:"添加成绩",SelectOptions:{positions:[],activities:[],honor:[],dorm:[],decrease:[]},addSceondClass:!1,selected:{position:[],activities:[],honor:[],dorm:[],decrease:[]},secondClassInfo:"",scholarshipStatus:"",scholarships:{},showScholarshipPopup:!1,adminScholarships:[],technologyStatus:"",technologys:{},technologySelections:[],showTechnologyPopup:!1,certificates:{},certificateStatus:"",adminCertificates:[],showCertificatePopup:!1,socialPracticeStatus:"",socialPractices:{},showSocialPracticePopup:!1,showTrans:!1,transcriptUrl:"",showRemarkPopup:!1,remarkStatus:"",remarks:{}}},methods:{toEditStudentInfo:function(){this.$router.push("/edit/basicInfo")},calDataIntegrity:function(e){var t=0,a=0;for(var s in e)if("openId"!==s&&e[s])for(var r in e[s])e[s][r]?t++:a++;return(t/(t+a)*100).toFixed(1)+"%"},toAddScore:function(e){e.gradeName?(this.popupTitle="编辑成绩",this.score=e,this.score.hasPass=this.score.hasPass?0:1,this.score.failingCourse.length>0&&(this.score.failingCourse=this.score.failingCourse.join(",")),this.score.failedCourse.length>0&&(this.score.failedCourse=this.score.failedCourse.join(","))):this.popupTitle="添加成绩",this.showAddModel=!0},addScore:function(e){var t=this;return u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.score.openId=localStorage.getItem("userID"),t.score.hasPass=1!==t.score.hasPass,t.score.hasPass||(t.score.failingCourse&&"string"==typeof t.score.failingCourse&&(t.score.failingCourse=t.score.failingCourse.split(",")),t.score.failedCourse&&"string"==typeof t.score.failedCourse&&(t.score.failedCourse=t.score.failedCourse.split(","))),"edit"!==e){a.next=10;break}return a.next=6,d.a.post("/score/updateScore",{score:t.score});case 6:"ok"===a.sent.data.message?t.$toast.success("添加成功"):t.$toast.fail("添加失败"),a.next=14;break;case 10:return a.next=12,d.a.post("/score/addScore",{score:t.score});case 12:"ok"===a.sent.data.message?t.$toast.success("添加成功"):t.$toast.fail("添加失败");case 14:return t.score={score:"",gradeName:{year:"",term:""},hasPass:"",failingCourse:[],failedCourse:[]},t.showAddModel=!1,a.next=18,t.getAllScores();case 18:case"end":return a.stop()}},a,t)}))()},cancelAddScore:function(){this.score={score:"",gradeName:{year:"",term:""},hasPass:"",failingCourse:[],failedCourse:[]},this.showAddModel=!1},changeSelection:function(){},chooseYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.score.gradeName.term=e:this.score.gradeName.year=e,this.showPicker=!1},getAllScores:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/score/getAllScores",{openId:localStorage.getItem("userID")});case 2:a=t.sent,e.scores=a.data.scores,0===e.scores.length?e.scoreStatus="待填写":e.scoreStatus=e.scores[0].status;case 5:case"end":return t.stop()}},t,e)}))()},toAddSecondClass:function(){var e=this.secondClassInfo,t=e.position,a=e.activities,s=e.dorm,r=e.honor,n=e.decrease;this.selected={position:t,activities:a,dorm:s,honor:r,decrease:n},this.addSceondClass=!0},reloadSecondclass:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/position/getAllSecondclassInfo",{openId:localStorage.getItem("userID")});case 2:"ok"===(a=t.sent).data.message&&(0===a.data.res.length?(e.secondClassStatus="待填写",e.secondClassInfo={position:[],activities:[],honor:[],dorm:[],decrease:[]}):(e.secondClassStatus=a.data.res[0].status,e.secondClassInfo=a.data.res[0]));case 4:case"end":return t.stop()}},t,e)}))()},closeSecondClassPopup:function(){this.addSceondClass=!1},toAddScholarship:function(){this.showScholarshipPopup=!0},closeScholarshipPopup:function(){this.showScholarshipPopup=!1},reloadScholarships:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/scholarship/getAllScholarships",{openId:localStorage.getItem("userID")});case 2:if(a=t.sent,console.log(a.data),"ok"!==a.data.message){t.next=10;break}if(0!==a.data.scholarships.length){t.next=9;break}return e.scholarshipStatus="待填写",e.scholarships.scholarships=[],t.abrupt("return");case 9:0===a.data.scholarships[0].scholarships.length?(e.scholarshipStatus="待填写",e.scholarships.scholarships=[]):(e.scholarships=a.data.scholarships[0],e.scholarshipStatus=a.data.scholarships[0].status);case 10:case"end":return t.stop()}},t,e)}))()},toAddTechnology:function(){this.showTechnologyPopup=!0},closeTechnologyPopup:function(){this.showTechnologyPopup=!1},reloadTechnologys:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/technology/getAllTechnologys",{openId:localStorage.getItem("userID")});case 2:"ok"===(a=t.sent).data.message&&(null===a.data.technology||0===a.data.technology.technologys.length?(e.technologyStatus="待填写",e.technologys.technologys=[]):(e.technologys=a.data.technology,e.technologyStatus=a.data.technology.status));case 4:case"end":return t.stop()}},t,e)}))()},toAddCertificate:function(){this.showCertificatePopup=!0},closeCertificatePopup:function(){this.showCertificatePopup=!1},reloadCertificates:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/certificate/getAllCertificates",{openId:localStorage.getItem("userID")});case 2:"ok"===(a=t.sent).data.message&&(null===a.data.certificate||0===a.data.certificate.certificates.length?(e.certificateStatus="待填写",e.certificates.certificates=[]):(e.certificates=a.data.certificate,e.certificateStatus=a.data.certificate.status));case 4:case"end":return t.stop()}},t,e)}))()},toAddSocialPractice:function(){this.showSocialPracticePopup=!0},closeSocialPracticePopup:function(){this.showSocialPracticePopup=!1},reloadSocialPractices:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/socialPractice/getAllSocialPractices",{openId:localStorage.getItem("userID")});case 2:"ok"===(a=t.sent).data.message&&(null===a.data.socialPractice||0===a.data.socialPractice.socialPractices.length?(e.socialPracticeStatus="待填写",e.socialPractices.socialPractices=[]):(e.socialPractices=a.data.socialPractice,e.socialPracticeStatus=a.data.socialPractice.status));case 4:case"end":return t.stop()}},t,e)}))()},toTranscript:function(){this.transcriptUrl="https://hit-sdms.xiaonei.io/transcript?userID="+localStorage.getItem("userID")+"#/",this.showTrans=!0},closeRemarkPopup:function(){this.showRemarkPopup=!1},reloadRemarks:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/remark/getAllRemarks",{openId:localStorage.getItem("userID")});case 2:"ok"===(a=t.sent).data.message&&(null===a.data.remarks||0===a.data.remarks.remarks.length?(e.remarkStatus="待填写",e.remarks.remarks=[]):(e.remarks=a.data.remarks,e.remarkStatus=a.data.remarks.status));case 4:case"end":return t.stop()}},t,e)}))()},toAddRemark:function(){this.showRemarkPopup=!0}},created:function(){var e=this;return u()(c.a.mark(function t(){var a,s,r,n,o,i,l;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0,"mina"===e.$router.currentRoute.query.from?(localStorage.removeItem("userID"),a=e.$router.currentRoute.query.userID,localStorage.setItem("userID",a)):a=localStorage.getItem("userID"),t.next=4,d.a.post("/login/getUserInfo",{value:a});case 4:return s=t.sent,e.wxUserInfo=s.data[0],e.loadData=!0,t.next=9,d.a.post("/info/studentInfo",{openId:a});case 9:if((r=t.sent).data.success){t.next=13;break}return e.$dialog.alert({message:"您还没有填写过基本信息,请前往填写"}).then(function(){e.$router.replace("/edit/basicInfo")}),t.abrupt("return");case 13:return e.infoStatus=r.data.studentInfo[0].status,e.basicInfo=r.data.studentInfo[0].basicInfo,n={basicInfo:e.basicInfo},e.Integrity=e.calDataIntegrity(n),t.next=19,e.getAllScores();case 19:return t.next=21,d.a.get("/position/getAllPositions");case 21:return o=t.sent,e.SelectOptions=o.data,t.next=25,e.reloadSecondclass();case 25:return t.next=27,d.a.get("/admin/scholarship/getAllScholarships");case 27:return i=t.sent,e.adminScholarships=i.data.scholarships,t.next=31,e.reloadScholarships();case 31:return e.technologySelections=o.data.tech,t.next=34,e.reloadTechnologys();case 34:return t.next=36,d.a.get("/admin/certificate/getAllCertificates");case 36:return l=t.sent,e.adminCertificates=l.data.certificates,t.next=40,e.reloadCertificates();case 40:return t.next=42,e.reloadSocialPractices();case 42:return t.next=44,e.reloadRemarks();case 44:e.loadData=!1;case 45:case"end":return t.stop()}},t,e)}))()}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadData,expression:"loadData"}],staticStyle:{padding:"10px"}},[a("div",{staticClass:"avatar-container"},[a("img",{staticClass:"avatar",attrs:{src:e.wxUserInfo.avatarUrl,alt:"avatar"}})]),e._v(" "),a("div",[a("h2",[e._v(e._s(e.basicInfo.name))]),e._v(" "),a("div",{staticClass:"base-info-secondline"},[a("h3",[e._v(e._s(e.basicInfo.gender))]),e._v(" "),a("span",[e._v("|")]),e._v(" "),a("h3",[e._v(e._s(e.basicInfo.stuId))])])]),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"warning"},on:{click:e.toTranscript}},[e._v("查看成绩单")]),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("学生信息")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.infoStatus?"info":"审核通过"===e.infoStatus?"success":"danger"}},[e._v(e._s(e.infoStatus))]),e._v(" "),a("van-button",{staticClass:"edit-btn",attrs:{size:"small",type:"default"},on:{click:e.toEditStudentInfo}},[e._v("编辑")])],1)]),e._v(" "),a("BasicInfo",{staticClass:"collapse",attrs:{basicInfo:e.basicInfo}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("学习成绩")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.scoreStatus?"info":"审核通过"===e.scoreStatus?"success":"danger"}},[e._v(e._s(e.scoreStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddScore}},[e._v("添加")])],1)]),e._v(" "),a("Score",{staticClass:"collapse",attrs:{scores:e.scores},on:{toEditScore:e.toAddScore}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("德育表现")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.secondClassStatus?"info":"审核通过"===e.secondClassStatus?"success":"danger"}},[e._v(e._s(e.secondClassStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddSecondClass}},[e._v("添加")])],1)]),e._v(" "),a("SecondClass",{attrs:{secondClassInfo:e.secondClassInfo},on:{reloadSecondclass:e.reloadSecondclass}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("奖学金")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.scholarshipStatus?"info":"审核通过"===e.scholarshipStatus?"success":"danger"}},[e._v(e._s(e.scholarshipStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddScholarship}},[e._v("添加")])],1)]),e._v(" "),a("Scholarship",{attrs:{scholarships:e.scholarships,scholarshipStatus:e.scholarshipStatus},on:{reloadScholarships:e.reloadScholarships}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("科技创新表现")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.technologyStatus?"info":"审核通过"===e.technologyStatus?"success":"danger"}},[e._v(e._s(e.technologyStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddTechnology}},[e._v("添加")])],1)]),e._v(" "),a("Technology",{attrs:{technologys:e.technologys,technologyStatus:e.technologyStatus},on:{reloadTechnologys:e.reloadTechnologys}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("其他证书")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.certificateStatus?"info":"审核通过"===e.certificateStatus?"success":"danger"}},[e._v(e._s(e.certificateStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddCertificate}},[e._v("添加")])],1)]),e._v(" "),a("Certificate",{attrs:{certificates:e.certificates,certificateStatus:e.certificateStatus},on:{reloadCertificates:e.reloadCertificates}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("社会实践")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.socialPracticeStatus?"info":"审核通过"===e.socialPracticeStatus?"success":"danger"}},[e._v(e._s(e.socialPracticeStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddSocialPractice}},[e._v("添加")])],1)]),e._v(" "),a("social-practice",{attrs:{socialPractices:e.socialPractices,socialPracticeStatus:e.socialPracticeStatus},on:{reloadSocialPractices:e.reloadSocialPractices}}),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v("备注")]),e._v(" "),a("div",[a("el-tag",{attrs:{type:"待审核"===e.remarkStatus?"info":"审核通过"===e.remarkStatus?"success":"danger"}},[e._v(e._s(e.remarkStatus))]),e._v(" "),a("van-button",{staticStyle:{"font-size":"14px"},attrs:{size:"small",type:"primary"},on:{click:e.toAddRemark}},[e._v("添加")])],1)]),e._v(" "),a("Remark",{attrs:{remarks:e.remarks,remarkStatus:e.remarkStatus},on:{reloadRemarks:e.reloadRemarks}}),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"100vh"},attrs:{position:"right"},model:{value:e.showAddModel,callback:function(t){e.showAddModel=t},expression:"showAddModel"}},[a("div",{staticClass:"popup-header"},[e._v(e._s(e.popupTitle))]),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学年: "+e._s(e.score.gradeName.year))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseYear}},[e._v("选择学年")])],1),e._v(" "),a("div",{staticClass:"cell-flex set-margin"},[a("div",[e._v("学期: "+e._s(e.score.gradeName.term))]),e._v(" "),a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.chooseTerm}},[e._v("选择学期")])],1),e._v(" "),a("van-cell-group",[a("van-field",{attrs:{label:"平均学分绩",placeholder:"请输入学分绩"},model:{value:e.score.score,callback:function(t){e.$set(e.score,"score",t)},expression:"score.score"}})],1),e._v(" "),a("div",{staticClass:"set-margin",staticStyle:{display:"flex","justify-content":"space-between",padding:"0 10px","margin-top":"6px"}},[a("span",[e._v("是否通过考试")]),e._v(" "),a("van-radio-group",{staticStyle:{display:"flex","justify-content":"space-around"},on:{change:e.changeSelection},model:{value:e.score.hasPass,callback:function(t){e.$set(e.score,"hasPass",t)},expression:"score.hasPass"}},[a("van-radio",{staticStyle:{"margin-right":"10px"},attrs:{name:0}},[e._v("通过")]),e._v(" "),a("van-radio",{attrs:{name:1}},[e._v("不及格")])],1)],1),e._v(" "),e.score.hasPass?a("van-cell-group",{staticClass:"set-margin"},[a("van-field",{attrs:{type:"textarea",label:"不及格科目",placeholder:"学科之间请用英文逗号隔开"},model:{value:e.score.failingCourse,callback:function(t){e.$set(e.score,"failingCourse",t)},expression:"score.failingCourse"}}),e._v(" "),a("van-field",{attrs:{type:"textarea",label:"挂科科目",placeholder:"学科之间请用英文逗号隔开"},model:{value:e.score.failedCourse,callback:function(t){e.$set(e.score,"failedCourse",t)},expression:"score.failedCourse"}})],1):e._e(),e._v(" "),a("van-row",{staticClass:"btn-position"},[a("van-col",{attrs:{span:"12"}},["添加成绩"===e.popupTitle?a("van-button",{attrs:{"bottom-action":""},on:{click:e.addScore}},[e._v("添加")]):a("van-button",{attrs:{"bottom-action":""},on:{click:function(t){e.addScore("edit")}}},[e._v("提交")])],1),e._v(" "),a("van-col",{attrs:{span:"12"}},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:e.cancelAddScore}},[e._v("取消")])],1)],1)],1),e._v(" "),a("van-popup",{staticStyle:{width:"100vw",height:"30vh"},attrs:{position:"bottom",transition:"popup-slide"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.pickerColumn,"show-toolbar":""},on:{confirm:e.pickerConfirm}})],1),e._v(" "),a("SecondClassPopup",{attrs:{addSceondClass:e.addSceondClass,SelectOptions:e.SelectOptions},on:{closeSecondClassPopup:e.closeSecondClassPopup,reloadSecondclass:e.reloadSecondclass}}),e._v(" "),a("ScholarshipPopup",{attrs:{showScholarshipPopup:e.showScholarshipPopup,adminScholarships:e.adminScholarships},on:{closeScholarshipPopup:e.closeScholarshipPopup,reloadScholarships:e.reloadScholarships}}),e._v(" "),a("TechnologyPopup",{attrs:{showTechnologyPopup:e.showTechnologyPopup,technologySelections:e.technologySelections},on:{closeTechnologyPopup:e.closeTechnologyPopup,reloadTechnologys:e.reloadTechnologys}}),e._v(" "),a("CertificatePopup",{attrs:{showCertificatePopup:e.showCertificatePopup,certificateSelections:e.adminCertificates},on:{closeCertificatePopup:e.closeCertificatePopup,reloadCertificates:e.reloadCertificates}}),e._v(" "),a("SocialPracticePopup",{attrs:{showSocialPracticePopup:e.showSocialPracticePopup},on:{closeSocialPracticePopup:e.closeSocialPracticePopup,reloadSocialPractices:e.reloadSocialPractices}}),e._v(" "),a("RemarkPopup",{attrs:{showRemarkPopup:e.showRemarkPopup},on:{closeRemarkPopup:e.closeRemarkPopup,reloadRemarks:e.reloadRemarks}}),e._v(" "),a("van-dialog",{model:{value:e.showTrans,callback:function(t){e.showTrans=t},expression:"showTrans"}},[a("p",[e._v("成绩单请在电脑端查看(长按复制链接)")]),e._v(" "),a("p",{staticStyle:{padding:"0 20px","word-wrap":"break-word"}},[e._v(e._s(e.transcriptUrl))])])],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("JWtl")},"data-v-6dba6273",null).exports,se=a("mvHQ"),re=a.n(se),ne={data:function(){return{openId:""}},methods:{save:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveData();case 2:e.$store.commit("setFormStep"),e.$router.replace("/");case 4:case"end":return t.stop()}},t,e)}))()},saveData:function(){var e=this;return u()(c.a.mark(function t(){var a,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$refs.form.$data,localStorage.setItem("basic",re()(a)),s={openId:e.openId,status:"待审核",basicInfo:a},t.prev=3,t.next=6,d.a.post("/submit/studentInfo",s);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),e.$toast({type:"fail",duation:2e3,message:"保存失败,请稍后重试"});case 11:e.$toast({type:"success",duation:2e3,message:"保存成功"});case 12:case"end":return t.stop()}},t,e,[[3,8]])}))()}},beforeRouteEnter:function(e,t,a){a(function(e){e.openId=localStorage.getItem("userID")})},beforeRouteUpdate:function(e,t,a){localStorage.setItem(t.name,re()(this.$refs.form.$data)),a()}},oe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view",{ref:"form"}),this._v(" "),t("div",{staticClass:"buttons"},[t("van-button",{attrs:{type:"primary"},on:{click:this.save}},[this._v("保存")])],1)],1)},staticRenderFns:[]};var ie=a("VU/8")(ne,oe,!1,function(e){a("IMAd")},"data-v-cc9babb4",null).exports,ce={data:function(){return{name:"",gender:"",stuId:"",major:"",className:"",phoneNumber:"",wx:"",birthday:"",volk:"",nativePlace:"",partyMember:"",birthdayPicker:!1,majorPicker:!1,currentDate:"",minDate:new Date(1989,12,1),maxDate:new Date(2e3,11,31),majors:["自动化","探测制导与控制技术","飞行器设计与工程","飞行器环境与生命保障工程","空间科学与技术","工程力学","复合材料科学与工程","电子科学与技术","电子信息科学与技术","光电信息科学与工程（光学工程方向）","自动化类","工科试验班","电子信息类"],partyPicker:!1,partys:["群众","共青团员","中共党员","预备党员"]}},methods:{pickBirthday:function(){this.birthdayPicker=!0},getBirthday:function(e){var t=e.getFullYear()+"-"+(e.getMonth()<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate());this.birthday=t,this.birthdayPicker=!1},cancelPickBirthday:function(){this.birthdayPicker=!1},pickMajor:function(){this.majorPicker=!0},getMajor:function(e){this.major=e,this.majorPicker=!1},cancelPickMajor:function(){this.majorPicker=!1},pickParty:function(){this.partyPicker=!0},getParty:function(e){this.partyMember=e,this.partyPicker=!1},cancelPickParty:function(){this.partyPicker=!1}},mounted:function(){var e=JSON.parse(localStorage.getItem("basic"));e&&(this.name=e.name,this.gender=e.gender,this.stuId=e.stuId,this.major=e.major,this.className=e.className,this.phoneNumber=e.phoneNumber,this.wx=e.wx,this.birthday=e.birthday,this.volk=e.volk,this.nativePlace=e.nativePlace,this.partyMember=e.partyMember)}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-cell-group",[a("van-field",{attrs:{label:"姓名",placeholder:"请输入姓名",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("van-radio-group",{model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[a("van-cell-group",[a("van-cell",{staticClass:"required"},[a("div",{staticClass:"van-cell__title label"},[a("span",{staticClass:"van-cell__text"},[e._v("性别")])]),e._v(" "),a("van-radio",{staticClass:"radio",attrs:{name:"男"}},[e._v("男")]),e._v(" "),a("van-radio",{staticClass:"radio",attrs:{name:"女"}},[e._v("女")])],1)],1)],1),e._v(" "),a("van-field",{attrs:{label:"学号",placeholder:"请输入学号",required:""},model:{value:e.stuId,callback:function(t){e.stuId=t},expression:"stuId"}}),e._v(" "),a("van-cell",{staticStyle:{padding:"10px 40px"},attrs:{title:"专业",value:e.major},on:{click:e.pickMajor}},[a("van-icon",{staticClass:"van-cell__right-icon",attrs:{slot:"right-icon",name:"arrow"},slot:"right-icon"})],1),e._v(" "),a("van-field",{attrs:{label:"班级",placeholder:"请输入班级"},model:{value:e.className,callback:function(t){e.className=t},expression:"className"}}),e._v(" "),a("van-field",{attrs:{placeholder:"请输入手机号",label:"手机号"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),e._v(" "),a("van-field",{attrs:{placeholder:"请输入微信号",label:"微信号"},model:{value:e.wx,callback:function(t){e.wx=t},expression:"wx"}}),e._v(" "),a("van-cell",{staticStyle:{padding:"10px 40px"},attrs:{title:"生日",value:e.birthday},on:{click:e.pickBirthday}},[a("van-icon",{staticClass:"van-cell__right-icon",attrs:{slot:"right-icon",name:"arrow"},slot:"right-icon"})],1),e._v(" "),a("van-field",{attrs:{label:"民族",placeholder:"请输入民族"},model:{value:e.volk,callback:function(t){e.volk=t},expression:"volk"}}),e._v(" "),a("van-field",{attrs:{label:"籍贯",placeholder:"请输入籍贯"},model:{value:e.nativePlace,callback:function(t){e.nativePlace=t},expression:"nativePlace"}}),e._v(" "),a("van-cell",{staticStyle:{padding:"10px 40px"},attrs:{title:"政治面貌",value:e.partyMember},on:{click:e.pickParty}},[a("van-icon",{staticClass:"van-cell__right-icon",attrs:{slot:"right-icon",name:"arrow"},slot:"right-icon"})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:e.birthdayPicker,callback:function(t){e.birthdayPicker=t},expression:"birthdayPicker"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.getBirthday,cancel:e.cancelPickBirthday},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:e.majorPicker,callback:function(t){e.majorPicker=t},expression:"majorPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.majors},on:{confirm:e.getMajor,cancel:e.cancelPickMajor}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:e.partyPicker,callback:function(t){e.partyPicker=t},expression:"partyPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.partys},on:{confirm:e.getParty,cancel:e.cancelPickParty}})],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(ce,le,!1,function(e){a("1Z16")},"data-v-76f7dfee",null).exports,pe={data:function(){return{phoneNumber:"",QQ:"",EMail:"",wx:"",familyAddress:""}},mounted:function(){var e=JSON.parse(localStorage.getItem("personal"));e&&(this.phoneNumber=e.phoneNumber,this.QQ=e.QQ,this.EMail=e.EMail,this.wx=e.wx,this.familyAddress=e.familyAddress)}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-cell-group",[a("van-field",{attrs:{placeholder:"请输入手机号",label:"手机号"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),e._v(" "),a("van-field",{attrs:{placeholder:"请输入QQ",label:"QQ"},model:{value:e.QQ,callback:function(t){e.QQ=t},expression:"QQ"}}),e._v(" "),a("van-field",{attrs:{placeholder:"请输入电子邮箱",label:"电子邮箱"},model:{value:e.EMail,callback:function(t){e.EMail=t},expression:"EMail"}}),e._v(" "),a("van-field",{attrs:{placeholder:"请输入微信号",label:"微信号"},model:{value:e.wx,callback:function(t){e.wx=t},expression:"wx"}}),e._v(" "),a("van-field",{attrs:{placeholder:"请输入家庭住址",label:"家庭住址",type:"textarea"},model:{value:e.familyAddress,callback:function(t){e.familyAddress=t},expression:"familyAddress"}})],1)},staticRenderFns:[]};var he=a("VU/8")(pe,de,!1,function(e){a("R9rY")},null,null).exports,fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeBar,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:!0},on:{select:e.changeSelection}},[a("el-menu-item",{attrs:{index:"/admin/info"}},[a("i",{staticClass:"el-icon-info"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("个人信息管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/score"}},[a("i",{staticClass:"el-icon-edit-outline"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("分数信息管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/secondclass"}},[a("i",{staticClass:"el-icon-tickets"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("德育表现管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/scholarship"}},[a("i",{staticClass:"el-icon-star-on"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("奖学金管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/technology"}},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("科技创新表现管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/certificate"}},[a("i",{staticClass:"el-icon-document"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("其他证书管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/socialpractice"}},[a("i",{staticClass:"el-icon-news"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("社会实践管理")])])],1)},staticRenderFns:[]};var me={components:{NavBar:a("VU/8")({name:"NavBar",data:function(){return{activeBar:"/admin/info"}},methods:{changeSelection:function(e){this.activeBar=e}}},fe,!1,function(e){a("pp3d")},null,null).exports}},ve={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("NavBar",{staticClass:"nav"}),this._v(" "),t("router-view",{staticClass:"router"})],1)},staticRenderFns:[]};var _e=a("VU/8")(me,ve,!1,function(e){a("ylt5")},"data-v-4b3ac9dc",null).exports,be={props:["infoData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/info/pass",{id:t._id});case 2:"ok"===e.sent.data.message&&a.$message({message:"操作成功",type:"success"}),a.$emit("refresh");case 5:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/info/fail",{id:t._id});case 2:"ok"===e.sent.data.message&&a.$message({message:"操作成功",type:"success"}),a.$emit("refresh");case 5:case"end":return e.stop()}},e,a)}))()}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.infoData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("div",{staticClass:"layout"},[a("el-form-item",{attrs:{label:"性别"}},[a("span",[e._v(e._s(t.row.basicInfo.gender))])]),e._v(" "),a("el-form-item",{attrs:{label:"专业"}},[a("span",[e._v(e._s(t.row.basicInfo.major))])]),e._v(" "),a("el-form-item",{attrs:{label:"班级"}},[a("span",[e._v(e._s(t.row.basicInfo.className))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("span",[e._v(e._s(t.row.basicInfo.phoneNumber))])]),e._v(" "),a("el-form-item",{attrs:{label:"微信号"}},[a("span",[e._v(e._s(t.row.basicInfo.wx))])])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"basicInfo.name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"basicInfo.stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var ye={components:{AdminInfoTable:a("VU/8")(be,ge,!1,function(e){a("jnOu")},"data-v-95fdb89e",null).exports},data:function(){return{infoData:[],needOperator:!0,requiredData:""}},methods:{changeTab:function(e){switch(parseInt(e.index)?this.needOperator=!1:this.needOperator=!0,e.label){case"待审核":this.infoData=this.requiredData.waiting;break;case"审核通过":this.infoData=this.requiredData.success;break;default:this.infoData=this.requiredData.failed}},refreshData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/info/getAllInfos");case 2:a=t.sent,e.infoData=a.data.waiting,e.requiredData=a.data;case 5:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/info/getAllInfos");case 2:a=t.sent,e.infoData=a.data.waiting,e.requiredData=a.data;case 5:case"end":return t.stop()}},t,e)}))()}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.changeTab}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-info-table",{attrs:{infoData:e.infoData,needOperator:e.needOperator},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-info-table",{attrs:{infoData:e.infoData,needOperator:e.needOperator},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-info-table",{attrs:{infoData:e.infoData,needOperator:e.needOperator},on:{refresh:e.refreshData}})],1)],1)],1)},staticRenderFns:[]};var xe=a("VU/8")(ye,ke,!1,function(e){a("3uZ1")},null,null).exports,we={props:["requiredData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/score/pass",{row:t});case 2:"ok"===e.sent.data.message&&a.$message({type:"success",message:"操作成功"}),a.$emit("refresh");case 5:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/score/fail",{row:t});case 2:"ok"===e.sent.data.message&&a.$message({type:"success",message:"操作成功"}),a.$emit("refresh");case 5:case"end":return e.stop()}},e,a)}))()}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requiredData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.res,function(t){return a("el-form",{key:t._id,staticClass:"demo-table-expand layout",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学期"}},[a("span",[e._v(e._s(t.gradeName.year+t.gradeName.term))])]),e._v(" "),a("el-form-item",{attrs:{label:"分数"}},[a("span",[e._v(e._s(t.score))])]),e._v(" "),a("el-form-item",{attrs:{label:"是否通过"}},[a("span",[e._v(e._s(t.hasPass?"是":"不是"))])]),e._v(" "),a("el-form-item",{attrs:{label:"不及格科目"}},[a("span",[e._v(e._s(t.failingCourse.length?t.failingCourse.join(";"):"无"))])]),e._v(" "),a("el-form-item",{attrs:{label:"挂科科目"}},[a("span",[e._v(e._s(t.failedCourse.length?t.failedCourse.join(";"):"无"))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var Ce={components:{AdminScoreTable:a("VU/8")(we,Se,!1,function(e){a("52sC")},"data-v-427f5f5b",null).exports},data:function(){return{waitingData:[],passData:[],failData:[],tabIndex:"0"}},methods:{changeTab:function(e){this.tabIndex=e.index},refreshData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/score/getAllScores");case 2:a=t.sent,e.waitingData=a.data.resData.waiting,e.passData=a.data.resData.pass,e.failData=a.data.resData.fail;case 6:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/score/getAllScores");case 2:a=t.sent,e.waitingData=a.data.resData.waiting,e.passData=a.data.resData.pass,e.failData=a.data.resData.fail;case 6:case"end":return t.stop()}},t,e)}))()}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.changeTab}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-score-table",{attrs:{requiredData:e.waitingData,needOperator:!0},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-score-table",{attrs:{requiredData:e.passData,needOperator:!1},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-score-table",{attrs:{requiredData:e.failData,needOperator:!1},on:{refresh:e.refreshData}})],1)],1)],1)},staticRenderFns:[]};var De=a("VU/8")(Ce,Pe,!1,function(e){a("GFez")},null,null).exports,Ie={name:"adminSecondClassTable",props:["requiredData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/secondclass/pass",{row:t._doc});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("reload"));case 4:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/secondclass/fail",{row:t._doc});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("reload"));case 4:case"end":return e.stop()}},e,a)}))()}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requiredData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("div",{staticStyle:{"text-align":"left","font-weight":"bold"}},[e._v("社会职务")]),e._v(" "),a("ul",e._l(t.row._doc.position,function(t){return a("li",{key:t._id,staticStyle:{display:"flex","justify-content":"space-between",padding:"0 5px"}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{color:"#ff3333"}},[e._v(e._s(t.weight))])])})),e._v(" "),a("div",{staticStyle:{"text-align":"left","font-weight":"bold"}},[e._v("荣誉称号")]),e._v(" "),a("ul",e._l(t.row._doc.honor,function(t){return a("li",{key:t._id,staticStyle:{display:"flex","justify-content":"space-between",padding:"0 5px"}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{color:"#ff3333"}},[e._v(e._s(t.weight))])])})),e._v(" "),a("div",{staticStyle:{"text-align":"left","font-weight":"bold"}},[e._v("社会活动")]),e._v(" "),a("ul",e._l(t.row._doc.activities,function(t){return a("li",{key:t._id,staticStyle:{display:"flex","justify-content":"space-between",padding:"0 5px"}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{color:"#ff3333"}},[e._v(e._s(t.weight))])])})),e._v(" "),a("div",{staticStyle:{"text-align":"left","font-weight":"bold"}},[e._v("寝室建设")]),e._v(" "),a("ul",e._l(t.row._doc.dorm,function(t){return a("li",{key:t._id,staticStyle:{display:"flex","justify-content":"space-between",padding:"0 5px"}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{color:"#ff3333"}},[e._v(e._s(t.weight))])])})),e._v(" "),a("div",{staticStyle:{"text-align":"left","font-weight":"bold"}},[e._v("减分项")]),e._v(" "),a("ul",e._l(t.row._doc.decrease,function(t){return a("li",{key:t._id,staticStyle:{display:"flex","justify-content":"space-between",padding:"0 5px"}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{color:"#ff3333"}},[e._v(e._s(t.weight))])])}))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var $e={components:{adminSecondclassTable:a("VU/8")(Ie,Oe,!1,function(e){a("Wcmk")},null,null).exports},data:function(){return{secondClassInfo:{waiting:[],success:[],fail:[]}}},methods:{reloadData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/secondclass/getAllSecondClassInfos");case 2:"ok"===(a=t.sent).data.message&&(e.secondClassInfo={waiting:a.data.waiting,success:a.data.success,fail:a.data.fail});case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reloadData();case 2:case"end":return t.stop()}},t,e)}))()}},je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-secondclass-table",{attrs:{requiredData:e.secondClassInfo.waiting,needOperator:!0},on:{reload:e.reloadData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-secondclass-table",{attrs:{requiredData:e.secondClassInfo.success,needOperator:!1},on:{reload:e.reloadData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-secondclass-table",{attrs:{requiredData:e.secondClassInfo.fail,needOperator:!1},on:{reload:e.reloadData}})],1)],1)],1)},staticRenderFns:[]};var Te=a("VU/8")($e,je,!1,function(e){a("bh/e")},null,null).exports,Ee={props:["requiredData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/scholarship/pass",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/scholarship/fail",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requiredData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.scholarships,function(t){return a("el-form",{key:t._id,staticClass:"demo-table-expand",staticStyle:{"text-align":"left"},attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学期:"}},[a("span",[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-form-item",{attrs:{label:"奖学金:"}},[a("span",[e._v(e._s(t.name))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var Ae={name:"AdminScholarship",components:{AdminScholarshipTable:a("VU/8")(Ee,Re,!1,function(e){a("MiTx")},null,null).exports},data:function(){return{scholarshipName:"",scholarships:[],requiredData:{waiting:[],success:[],fail:[]}}},methods:{reloadScholarships:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/scholarship/getAllScholarships");case 2:"ok"===(a=t.sent).data.message&&(e.scholarships=a.data.scholarships);case 4:case"end":return t.stop()}},t,e)}))()},addScholarship:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/admin/scholarship/addScholarship",{scholarshipName:e.scholarshipName});case 2:if("ok"!==t.sent.data.message){t.next=10;break}return e.$message({type:"success",message:"添加成功"}),e.scholarshipName="",t.next=8,e.reloadScholarships();case 8:t.next=11;break;case 10:e.$message.error("该奖学金已存在");case 11:case"end":return t.stop()}},t,e)}))()},removeScholarship:function(e){var t=this;return u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.post("/admin/scholarship/removeScholarship",{id:e._id});case 2:if("ok"!==a.sent.data.message){a.next=7;break}return t.$message({type:"success",message:"删除成功"}),a.next=7,t.reloadScholarships();case 7:case"end":return a.stop()}},a,t)}))()},refreshData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/scholarship/getAllStudentScholarships");case 2:"ok"===(a=t.sent).data.message&&(e.requiredData=a.data.studentScholarships);case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reloadScholarships();case 2:return t.next=4,e.refreshData();case 4:case"end":return t.stop()}},t,e)}))()}},Me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("奖学金内容管理")]),e._v(" "),a("div",[a("el-input",{staticStyle:{"margin-right":"6px"},attrs:{placeholder:"请输入奖学金名称",size:"mini"},model:{value:e.scholarshipName,callback:function(t){e.scholarshipName=t},expression:"scholarshipName"}}),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.addScholarship}},[e._v("添加")])],1)]),e._v(" "),e.scholarships.length?e._l(e.scholarships,function(t){return a("div",{key:t._id,staticClass:"flex-list"},[a("div",[e._v(e._s(t.name))]),e._v(" "),a("el-button",{attrs:{size:"mini",round:"",type:"danger"},on:{click:function(a){e.removeScholarship(t)}}},[e._v("删除")])],1)}):a("div",{staticStyle:{color:"#cccccc"}},[e._v("暂无数据")])],2),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"20px"},attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-scholarship-table",{attrs:{requiredData:e.requiredData.waiting,needOperator:!0},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-scholarship-table",{attrs:{requiredData:e.requiredData.success,needOperator:!1},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-scholarship-table",{attrs:{requiredData:e.requiredData.fail,needOperator:!1},on:{refresh:e.refreshData}})],1)],1)],1)},staticRenderFns:[]};var Ne=a("VU/8")(Ae,Me,!1,function(e){a("gdj8")},"data-v-4207b21a",null).exports,Ue={name:"AdminTechnologyTable",props:["requiredData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/technology/pass",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/technology/fail",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requiredData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.technologys,function(t){return a("el-form",{key:t._id,staticClass:"demo-table-expand",staticStyle:{"text-align":"left"},attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学期:"}},[a("span",[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-form-item",{attrs:{label:"科技创新:"}},[a("span",[e._v(e._s(t.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"权重:"}},[a("span",[e._v(e._s(t.weight))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var ze={name:"AdminTechnology",components:{AdminTechnologyTable:a("VU/8")(Ue,qe,!1,function(e){a("SVQG")},null,null).exports},data:function(){return{requiredData:{waiting:[],success:[],fail:[]}}},methods:{refreshData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/technology/getAllTechnologys");case 2:"ok"===(a=t.sent).data.message&&(e.requiredData=a.data.technologys);case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData();case 2:case"end":return t.stop()}},t,e)}))()}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-technology-table",{attrs:{requiredData:e.requiredData.waiting,needOperator:!0},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-technology-table",{attrs:{requiredData:e.requiredData.success,needOperator:!1},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-technology-table",{attrs:{requiredData:e.requiredData.fail,needOperator:!1},on:{refresh:e.refreshData}})],1)],1)},staticRenderFns:[]};var Be=a("VU/8")(ze,Fe,!1,function(e){a("POw+")},"data-v-519445df",null).exports,Ve={props:["requiredData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/certificate/pass",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/certificate/fail",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()}}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requiredData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.certificates,function(t){return a("el-form",{key:t._id,staticClass:"demo-table-expand",staticStyle:{"text-align":"left"},attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学期:"}},[a("span",[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-form-item",{attrs:{label:"证书:"}},[a("span",[e._v(e._s(t.name))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var Ke={name:"AdminCertificate",components:{AdminCertificateTable:a("VU/8")(Ve,We,!1,function(e){a("+roZ")},null,null).exports},data:function(){return{certificateName:"",certificates:[],requiredData:{waiting:[],success:[],fail:[]}}},methods:{reloadCertificates:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/certificate/getAllCertificates");case 2:"ok"===(a=t.sent).data.message&&(e.certificates=a.data.certificates);case 4:case"end":return t.stop()}},t,e)}))()},addCertificate:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/admin/certificate/addCertificate",{certificateName:e.certificateName});case 2:if("ok"!==t.sent.data.message){t.next=10;break}return e.$message({type:"success",message:"添加成功"}),e.certificateName="",t.next=8,e.reloadCertificates();case 8:t.next=11;break;case 10:e.$message.error("该奖学金已存在");case 11:case"end":return t.stop()}},t,e)}))()},removeCertificate:function(e){var t=this;return u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.post("/admin/certificate/removeCertificate",{id:e._id});case 2:if("ok"!==a.sent.data.message){a.next=7;break}return t.$message({type:"success",message:"删除成功"}),a.next=7,t.reloadCertificates();case 7:case"end":return a.stop()}},a,t)}))()},refreshData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/certificate/getAllStudentCertificates");case 2:"ok"===(a=t.sent).data.message&&(e.requiredData=a.data.certificates);case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reloadCertificates();case 2:return t.next=4,e.refreshData();case 4:case"end":return t.stop()}},t,e)}))()}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex","justify-content":"space-between"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其他证书内容管理")]),e._v(" "),a("div",[a("el-input",{staticStyle:{"margin-right":"6px"},attrs:{placeholder:"请输入证书名称",size:"mini"},model:{value:e.certificateName,callback:function(t){e.certificateName=t},expression:"certificateName"}}),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.addCertificate}},[e._v("添加")])],1)]),e._v(" "),e.certificates.length?e._l(e.certificates,function(t){return a("div",{key:t._id,staticClass:"flex-list"},[a("div",[e._v(e._s(t.name))]),e._v(" "),a("el-button",{attrs:{size:"mini",round:"",type:"danger"},on:{click:function(a){e.removeCertificate(t)}}},[e._v("删除")])],1)}):a("div",{staticStyle:{color:"#cccccc"}},[e._v("暂无数据")])],2),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"20px"},attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-certificate-table",{attrs:{requiredData:e.requiredData.waiting,needOperator:!0},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-certificate-table",{attrs:{requiredData:e.requiredData.success,needOperator:!1},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-certificate-table",{attrs:{requiredData:e.requiredData.fail,needOperator:!1},on:{refresh:e.refreshData}})],1)],1)],1)},staticRenderFns:[]};var Qe=a("VU/8")(Ke,Le,!1,function(e){a("8t/I")},"data-v-36af0f22",null).exports,Ye={props:["requiredData","needOperator"],methods:{handleSuccess:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/socialPractice/pass",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()},handleFail:function(e,t){var a=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/admin/socialPractice/fail",{id:t._id});case 2:"ok"===e.sent.data.message&&(a.$message({type:"success",message:"操作成功"}),a.$emit("refresh"));case 4:case"end":return e.stop()}},e,a)}))()}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requiredData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.socialPractices,function(t){return a("el-form",{key:t._id,staticClass:"demo-table-expand",staticStyle:{"text-align":"left"},attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学期:"}},[a("span",[e._v(e._s(t.year+t.term))])]),e._v(" "),a("el-form-item",{attrs:{label:"社会实践名称:"}},[a("span",[e._v(e._s(t.name))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"学生姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",prop:"stuId"}}),e._v(" "),e.needOperator?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleSuccess(t.$index,t.row)}}},[e._v("通过审核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleFail(t.$index,t.row)}}},[e._v("不通过审核")])]}}])}):e._e()],1)},staticRenderFns:[]};var Je={name:"AdminSocialPractice",components:{AdminSocialPracticeTable:a("VU/8")(Ye,Ge,!1,function(e){a("zhAX")},null,null).exports},data:function(){return{requiredData:{waiting:[],success:[],fail:[]}}},methods:{refreshData:function(){var e=this;return u()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/admin/socialPractice/getAllSocialPractices");case 2:"ok"===(a=t.sent).data.message&&(e.requiredData=a.data.socialPractices);case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData();case 2:case"end":return t.stop()}},t,e)}))()}},Xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"待审核"}},[a("admin-social-practice-table",{attrs:{requiredData:e.requiredData.waiting,needOperator:!0},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核通过"}},[a("admin-social-practice-table",{attrs:{requiredData:e.requiredData.success,needOperator:!1},on:{refresh:e.refreshData}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"审核未通过"}},[a("admin-social-practice-table",{attrs:{requiredData:e.requiredData.fail,needOperator:!1},on:{refresh:e.refreshData}})],1)],1)},staticRenderFns:[]};var Ze=a("VU/8")(Je,Xe,!1,function(e){a("RQIj")},null,null).exports;s.default.use(o.a);var He=new o.a({routes:[{path:"/",name:"PersonalInfomation",component:ae},{path:"/edit",name:"Form",component:ie,children:[{name:"basic",path:"basicInfo",component:ue},{name:"personal",path:"personalInfo",component:he}]},{path:"/admin",name:"Admin",component:_e,children:[{path:"info",name:"AdminInfo",component:xe},{path:"score",name:"AdminScore",component:De},{path:"secondclass",name:"AdminSecondClass",component:Te},{path:"scholarship",name:"AdminScholarship",component:Ne},{path:"technology",name:"AdminTechnology",component:Be},{path:"certificate",name:"AdminCertificate",component:Qe},{path:"socialpractice",name:"AdminSocialPractice",component:Ze}]}]}),et=a("NYxO");s.default.use(et.a);var tt=new et.a.Store({state:{form_step:0,routerList:["/edit/basicInfo","/edit/personalInfo"]},mutations:{stepForward:function(e){e.form_step++},stepBack:function(e){e.form_step--},setFormStep:function(e){e.form_step=0}}}),at=a("ymRw"),st=a.n(at),rt=(a("CMvz"),a("zL8q")),nt=a.n(rt);a("tvR6");s.default.use(st.a),s.default.use(nt.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:He,store:tt,components:{App:n},template:"<App/>"})},O6zy:function(e,t){},"POw+":function(e,t){},QSsg:function(e,t){},R9rY:function(e,t){},RQIj:function(e,t){},SVQG:function(e,t){},Wcmk:function(e,t){},WqGK:function(e,t){},XRiL:function(e,t){},bJ3t:function(e,t){},"bh/e":function(e,t){},bkIu:function(e,t){},dDvn:function(e,t){},gdj8:function(e,t){},iBrN:function(e,t){},jMoM:function(e,t){},jnOu:function(e,t){},pp3d:function(e,t){},tvR6:function(e,t){},"uAh/":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_2_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_2_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);__webpack_exports__.a={props:["secondClassInfo"],data:function(){return{activeName:"0"}},methods:{deleteSingleRecord:function deleteSingleRecord(index,arr){var _this=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){var mainObj,res;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return mainObj=_this.secondClassInfo,eval("mainObj."+arr+".splice(index, 1)"),mainObj.status="待审核",_context.next=5,__WEBPACK_IMPORTED_MODULE_2_axios___default.a.post("/position/updateDelete",{openId:localStorage.getItem("userID"),result:mainObj});case 5:res=_context.sent,"ok"===res.data.message&&(_this.$message({type:"success",message:"删除成功"}),_this.$emit("reloadSecondclass"));case 7:case"end":return _context.stop()}},_callee,_this)}))()}}}},wuTm:function(e,t){},xBMF:function(e,t){},xqKb:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_2_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_2_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);__webpack_exports__.a={props:["addSceondClass","SelectOptions"],data:function(){return{catagory:"",options:[{label:"社会职务",value:"positions"},{label:"社会活动",value:"activities"},{label:"荣誉称号",value:"honor"},{label:"寝室建设",value:"dorm"},{label:"减分项",value:"decrease"}],secondClassObj:{name:"",weight:0,year:"",term:"",detail:""},pickerColumn:[],yearColumn:["2014","2015","2016","2017","2018","2019","2020"],termColumn:["春季学期","夏季学期","秋季学期"],showPicker:!1,selectorInfo:[]}},methods:{changeCatagory:function changeCatagory(val){this.selectorInfo=eval("this.SelectOptions."+val)},changeContent:function(e){var t=e.split("/");3===t.length?(this.secondClassObj.name=t[0]+"/"+t[1],this.secondClassObj.weight=parseInt(t[2])):(this.secondClassObj.name=t[0],this.secondClassObj.weight=parseInt(t[1]))},updateSecondClass:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={openId:localStorage.getItem("userID"),catagory:e.catagory,content:e.secondClassObj},t.next=3,__WEBPACK_IMPORTED_MODULE_2_axios___default.a.post("/position/submitSecondclass",a);case 3:"ok"===t.sent.data.message&&(e.$message({type:"success",message:"添加成功"}),e.$emit("reloadSecondclass"),e.cancelUpdateSecondClass());case 5:case"end":return t.stop()}},t,e)}))()},cancelUpdateSecondClass:function(){this.secondClassObj={name:"",weight:0,year:"",term:"",detail:""},this.catagory="",this.selectorInfo=[],this.$emit("closeSecondClassPopup")},chooseSecondClassYear:function(){this.pickerColumn=this.yearColumn.concat(),this.showPicker=!0},chooseSecondClassTerm:function(){this.pickerColumn=this.termColumn.concat(),this.showPicker=!0},pickerConfirm:function(e){isNaN(parseInt(e))?this.secondClassObj.term=e:this.secondClassObj.year=e,this.showPicker=!1},pickerCancel:function(){this.showPicker=!1}}}},ylt5:function(e,t){},zhAX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.00e4e5f8efaf0658ce94.js.map